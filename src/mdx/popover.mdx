import {PreviewPopover} from "@/app/(docs-group)/docs/components/popover/preview";
import {BreadcrumbNav} from "@/components/breadcrumb-nav";
import {PopoverInstallation} from "@/app/(docs-group)/docs/components/popover/components/popover-installation";
import {
  BasicPopoverDemo,
  PopoverWithIconsDemo,
  PopoverWithCustomIconsDemo,
  PopoverWithCustomColorsDemo,
  PopoverWithCustomSizesDemo,
  PopoverWithCustomLabelsDemo
} from "@/app/(docs-group)/docs/components/popover/components/popover-demos";
import { Tabs, TabsList, TabsTrigger, TabsContent } from "@/components/modern-ui/tabs";

<BreadcrumbNav className="mb-4" items={[
  {label: "Docs", href: "/docs"},
  {label: "Components", href: "/docs/components"},
  {label: "Popover"},
]}/>

<PreviewPopover/>

# Popover Component

A popover component that displays floating content when triggered.

- Built on top of Radix UI's Popover primitive
- Fully accessible with proper focus management
- Customizable positioning and alignment
- Ideal for displaying additional information or controls

---

## Installation

The Popover component is part of our UI library. You can import it directly from the components directory.

<PopoverInstallation/>

---

## Usage

Here is how to use the popover in your project.

```tsx
import { Popover, PopoverTrigger, PopoverContent } from "@/components/modern-ui/popover"
```

---

## Examples

### Basic Popover

A standard popover with a title and description.

<Tabs defaultValue="preview">
  <TabsList>
    <TabsTrigger value="preview">Preview</TabsTrigger>
    <TabsTrigger value="code">Code</TabsTrigger>
  </TabsList>
  <TabsContent value="preview" className="p-6 border rounded-md mt-2 relative min-h-[250px]">
    <div className="absolute inset-0 bg-[radial-gradient(#80808080_1px,transparent_1px)] [background-size:16px_16px] opacity-50"></div>
    <div className="flex justify-center items-center h-full z-10 relative">
      <BasicPopoverDemo />
    </div>
  </TabsContent>
  <TabsContent value="code">
    ```tsx
    import { Popover, PopoverTrigger, PopoverContent } from "@/components/modern-ui/popover";
    import { Button } from "@/components/modern-ui/button";

    export function BasicPopoverDemo() {
      return (
        <Popover>
          <PopoverTrigger asChild>
            <Button>Open Popover</Button>
          </PopoverTrigger>
          <PopoverContent className="w-80">
            <div className="grid gap-4">
              <div className="space-y-2">
                <h4 className="font-medium leading-none">Basic Popover</h4>
                <p className="text-sm text-muted-foreground">
                  This is a simple popover with a title and description.
                </p>
              </div>
            </div>
          </PopoverContent>
        </Popover>
      );
    }
    ```
  </TabsContent>
</Tabs>

### Popover with Form

A popover containing form elements.

<Tabs defaultValue="preview">
  <TabsList>
    <TabsTrigger value="preview">Preview</TabsTrigger>
    <TabsTrigger value="code">Code</TabsTrigger>
  </TabsList>
  <TabsContent value="preview" className="p-6 border rounded-md mt-2 relative min-h-[250px]">
    <div className="absolute inset-0 bg-[radial-gradient(#80808080_1px,transparent_1px)] [background-size:16px_16px] opacity-50"></div>
    <div className="flex justify-center items-center h-full z-10 relative">
      <PopoverWithFormDemo />
    </div>
  </TabsContent>
  <TabsContent value="code">
    ```tsx
    import { Popover, PopoverTrigger, PopoverContent } from "@/components/modern-ui/popover";
    import { Button } from "@/components/modern-ui/button";
    import { Input } from "@/components/modern-ui/input";
    import { Label } from "@/components/modern-ui/label";

    export function PopoverWithFormDemo() {
      return (
        <Popover>
          <PopoverTrigger asChild>
            <Button>Update Settings</Button>
          </PopoverTrigger>
          <PopoverContent className="w-80">
            <div className="grid gap-4">
              <div className="space-y-2">
                <h4 className="font-medium leading-none">Dimensions</h4>
                <p className="text-sm text-muted-foreground">
                  Set the dimensions for the layer.
                </p>
              </div>
              <div className="grid gap-2">
                <div className="grid grid-cols-3 items-center gap-4">
                  <Label htmlFor="width">Width</Label>
                  <Input id="width" defaultValue="100%" className="col-span-2 h-8" />
                </div>
                <div className="grid grid-cols-3 items-center gap-4">
                  <Label htmlFor="height">Height</Label>
                  <Input id="height" defaultValue="25px" className="col-span-2 h-8" />
                </div>
              </div>
            </div>
          </PopoverContent>
        </Popover>
      );
    }
    ```
  </TabsContent>
</Tabs>

### Popover Alignment Options

Popovers with different alignment options.

<Tabs defaultValue="preview">
  <TabsList>
    <TabsTrigger value="preview">Preview</TabsTrigger>
    <TabsTrigger value="code">Code</TabsTrigger>
  </TabsList>
  <TabsContent value="preview" className="p-6 border rounded-md mt-2 relative min-h-[250px]">
    <div className="absolute inset-0 bg-[radial-gradient(#80808080_1px,transparent_1px)] [background-size:16px_16px] opacity-50"></div>
    <div className="flex justify-center items-center h-full z-10 relative">
      <AlignmentPopoverDemo />
    </div>
  </TabsContent>
  <TabsContent value="code">
    ```tsx
    import { Popover, PopoverTrigger, PopoverContent } from "@/components/modern-ui/popover";
    import { Button } from "@/components/modern-ui/button";

    export function AlignmentPopoverDemo() {
      return (
        <div className="flex items-center space-x-4">
          <Popover>
            <PopoverTrigger asChild>
              <Button>Align Start</Button>
            </PopoverTrigger>
            <PopoverContent align="start" className="w-60">
              <div className="space-y-2">
                <h4 className="font-medium">Align Start</h4>
                <p className="text-sm text-muted-foreground">
                  This popover is aligned to the start of the trigger.
                </p>
              </div>
            </PopoverContent>
          </Popover>
          
          <Popover>
            <PopoverTrigger asChild>
              <Button>Align Center</Button>
            </PopoverTrigger>
            <PopoverContent align="center" className="w-60">
              <div className="space-y-2">
                <h4 className="font-medium">Align Center</h4>
                <p className="text-sm text-muted-foreground">
                  This popover is aligned to the center of the trigger.
                </p>
              </div>
            </PopoverContent>
          </Popover>
          
          <Popover>
            <PopoverTrigger asChild>
              <Button>Align End</Button>
            </PopoverTrigger>
            <PopoverContent align="end" className="w-60">
              <div className="space-y-2">
                <h4 className="font-medium">Align End</h4>
                <p className="text-sm text-muted-foreground">
                  This popover is aligned to the end of the trigger.
                </p>
              </div>
            </PopoverContent>
          </Popover>
        </div>
      );
    }
    ```
  </TabsContent>
</Tabs>

## API Reference

### Popover Component Parts

The Popover component is composed of several parts:

| Component | Description |
|-----------|-------------|
| `Popover` | The root component that manages the popover state |
| `PopoverTrigger` | The button that triggers the popover |
| `PopoverContent` | The container for the popover content |
| `PopoverAnchor` | Optional component to anchor the popover without using the trigger |

### PopoverContent Props

| Prop | Type | Default | Description |
|------|------|---------|-------------|
| `align` | `'start' \| 'center' \| 'end'` | `'center'` | Controls alignment of the popover relative to the trigger |
| `sideOffset` | `number` | `4` | Distance in pixels from the trigger |
| `className` | `string` | - | Additional CSS classes to apply to the popover content |
| `forceMount` | `boolean` | - | When used, popover content will always render regardless of open state |

Additionally, it accepts all the properties from Radix UI's PopoverContent component.

### Accessibility

The Popover component follows WAI-ARIA guidelines for accessibility:

- Proper focus management when the popover opens and closes
- Keyboard navigation support
- ARIA attributes for screen readers
- Proper labelling of the trigger element 